{"componentChunkName":"component---src-templates-blog-post-js","path":"/2022-11-02-troubleshoot-aws-msk-dotnet/","result":{"data":{"site":{"siteMetadata":{"title":"The Plastic Neuron"}},"markdownRemark":{"id":"37f59afc-cecb-57d8-b8f5-fabb74a50a10","excerpt":"In my previous blog post, I looked at connecting a .NET client to a Kafka cluster on MSK. To get to that point, I hit a lot of errors that weren’t immediately…","html":"<p>In my <a href=\"../2022-10-31-aws-msk-dotnet\">previous blog post</a>, I looked at connecting a .NET client to a Kafka cluster on MSK.</p>\n<p>To get to that point, I hit a lot of errors that weren’t immediately obvious what the cause was. Here’s how I troubleshooted them, I hope this is useful to you!</p>\n<p>Most of the issues I had was around ensuring that MSK was correctly configured to be both secure and… well, accessible!</p>\n<h2>Assumptions</h2>\n<p>Before we start, I assume that you have a .NET client running in a command line like the one in the <a href=\"../2022-10-31-aws-msk-dotnet\">last blog post</a> running but it doesn’t seem to connect to MSK.</p>\n<h2>Turn on debugging first!</h2>\n<p>A typical .NET client configuration looks like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token class-name\"><span class=\"token keyword\">var</span></span> adminClientConfig <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">AdminClientConfig</span>\r\n<span class=\"token punctuation\">{</span>\r\n    BootstrapServers <span class=\"token operator\">=</span> bootstrap<span class=\"token punctuation\">,</span>\r\n    SecurityProtocol <span class=\"token operator\">=</span> SecurityProtocol<span class=\"token punctuation\">.</span>Ssl<span class=\"token punctuation\">,</span>\r\n    SslCertificateLocation <span class=\"token operator\">=</span> <span class=\"token string\">\"kafka_test_client.cer\"</span><span class=\"token punctuation\">,</span>\r\n    SslKeyLocation <span class=\"token operator\">=</span> <span class=\"token string\">\"kafka_test_client.key\"</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Very little information will written out to the console, so you need to turn on debugging:</p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token class-name\"><span class=\"token keyword\">var</span></span> adminClientConfig <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">AdminClientConfig</span>\r\n<span class=\"token punctuation\">{</span>\r\n    Debug <span class=\"token operator\">=</span> <span class=\"token string\">\"broker,protocol,metadata,topic\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// Add Debugging Line</span>\r\n    BootstrapServers <span class=\"token operator\">=</span> bootstrap<span class=\"token punctuation\">,</span>\r\n    SecurityProtocol <span class=\"token operator\">=</span> SecurityProtocol<span class=\"token punctuation\">.</span>Ssl<span class=\"token punctuation\">,</span>\r\n    SslCertificateLocation <span class=\"token operator\">=</span> <span class=\"token string\">\"kafka_test_client.cer\"</span><span class=\"token punctuation\">,</span>\r\n    SslKeyLocation <span class=\"token operator\">=</span> <span class=\"token string\">\"kafka_test_client.key\"</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>When running the client, you will see a huge amount of information. You might want to reduce or switch off for production.</p>\n<h2>Error: Terminating instance (destroy flags none (0x0))</h2>\n<p>Below is a debug output for mutual TLS. The output is from a C/C++ library called <a href=\"https://www.nuget.org/packages/librdkafka.redist\"><code class=\"language-text\">librdkafka</code></a>, which the .NET client binds to.</p>\n<p>There are two brokers (<code class=\"language-text\">broker1-msk.amazonaws.com:9194/bootstrap</code> and <code class=\"language-text\">broker2-msk.amazonaws.com:9194/bootstrap</code>) - your URLs will look a little different, I’ve adjusted mine to protect the innocent!</p>\n<p>The client is trying to connect via SSL to each broker (<code class=\"language-text\">TRY_CONNECT -> CONNECT</code>). It keeps trying with <code class=\"language-text\">Cluster connection already in progress: no cluster connection</code> and eventually you see <code class=\"language-text\">Terminating instance (destroy flags none (0x0))</code>. The rest of the trace is client cleaning up after itself.</p>\n<p>This means that the client cannot <em>reach</em> the MSK brokers.</p>\n<div class=\"gatsby-highlight\" data-language=\"log\"><pre class=\"language-log\"><code class=\"language-log\"><span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628222.105</span><span class=\"token operator\">|</span>BROKER<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>app<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Added new broker with NodeId <span class=\"token operator\">-</span><span class=\"token number\">1</span>\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628222.105</span><span class=\"token operator\">|</span>BROKER<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>app<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Added new broker with NodeId <span class=\"token operator\">-</span><span class=\"token number\">1</span>\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628222.105</span><span class=\"token operator\">|</span>BRKMAIN<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token operator\">/</span>internal<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token operator\">/</span>internal<span class=\"token operator\">:</span> Enter main broker thread\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628222.105</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>app<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Selected for cluster connection<span class=\"token operator\">:</span> bootstrap servers added <span class=\"token operator\">(</span>broker has <span class=\"token number\">0</span> connection attempt<span class=\"token operator\">(</span>s<span class=\"token operator\">)</span><span class=\"token operator\">)</span>\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628222.105</span><span class=\"token operator\">|</span>BRKMAIN<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Enter main broker thread\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628222.106</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Received CONNECT op\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628222.106</span><span class=\"token operator\">|</span>STATE<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Broker changed state INIT <span class=\"token operator\">-</span><span class=\"token operator\">></span> TRY_CONNECT\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628222.106</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> broker in state TRY_CONNECT connecting\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628222.106</span><span class=\"token operator\">|</span>STATE<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Broker changed state TRY_CONNECT <span class=\"token operator\">-</span><span class=\"token operator\">></span> CONNECT\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628222.105</span><span class=\"token operator\">|</span>BRKMAIN<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Enter main broker thread\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628222.106</span><span class=\"token operator\">|</span>INIT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>app<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> librdkafka <span class=\"token number\">v1.9.2</span> <span class=\"token operator\">(</span><span class=\"token number\">0x10902ff</span><span class=\"token operator\">)</span> rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span> initialized <span class=\"token operator\">(</span>builtin<span class=\"token punctuation\">.</span>features gzip<span class=\"token punctuation\">,</span>snappy<span class=\"token punctuation\">,</span>ssl<span class=\"token punctuation\">,</span>sasl<span class=\"token punctuation\">,</span>regex<span class=\"token punctuation\">,</span>lz4<span class=\"token punctuation\">,</span>sasl_gssapi<span class=\"token punctuation\">,</span>sasl_plain<span class=\"token punctuation\">,</span>sasl_scram<span class=\"token punctuation\">,</span>plugins<span class=\"token punctuation\">,</span>zstd<span class=\"token punctuation\">,</span>sasl_oauthbearer<span class=\"token punctuation\">,</span>http<span class=\"token punctuation\">,</span>oidc<span class=\"token punctuation\">,</span> SSL ZLIB SNAPPY ZSTD CURL SASL_SCRAM SASL_OAUTHBEARER PLUGINS HDRHISTOGRAM<span class=\"token punctuation\">,</span> debug <span class=\"token number\">0x8e</span><span class=\"token operator\">)</span>\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628222.117</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>app<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> Not selecting any broker for cluster connection<span class=\"token operator\">:</span> still suppressed for <span class=\"token number\">37ms</span><span class=\"token operator\">:</span> application metadata request\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628222.146</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Connecting to ipv4<span class=\"token operator\">#</span>xxx<span class=\"token punctuation\">.</span>xxx<span class=\"token punctuation\">.</span>xxx<span class=\"token punctuation\">.</span>xxx<span class=\"token operator\">:</span><span class=\"token number\">9194</span> <span class=\"token operator\">(</span>ssl<span class=\"token operator\">)</span> with socket <span class=\"token number\">2744</span>\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628223.145</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>main<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Selected for cluster connection<span class=\"token operator\">:</span> no cluster connection <span class=\"token operator\">(</span>broker has <span class=\"token number\">0</span> connection attempt<span class=\"token operator\">(</span>s<span class=\"token operator\">)</span><span class=\"token operator\">)</span>\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628223.145</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Received CONNECT op\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628223.147</span><span class=\"token operator\">|</span>STATE<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Broker changed state INIT <span class=\"token operator\">-</span><span class=\"token operator\">></span> TRY_CONNECT\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628223.148</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> broker in state TRY_CONNECT connecting\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628223.148</span><span class=\"token operator\">|</span>STATE<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Broker changed state TRY_CONNECT <span class=\"token operator\">-</span><span class=\"token operator\">></span> CONNECT\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628223.148</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>app<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> Not selecting any broker for cluster connection<span class=\"token operator\">:</span> still suppressed for <span class=\"token number\">46ms</span><span class=\"token operator\">:</span> application metadata request\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628223.149</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>app<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> Not selecting any broker for cluster connection<span class=\"token operator\">:</span> still suppressed for <span class=\"token number\">45ms</span><span class=\"token operator\">:</span> application metadata request\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628223.183</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Connecting to ipv4<span class=\"token operator\">#</span>xxx<span class=\"token punctuation\">.</span>xxx<span class=\"token punctuation\">.</span>xxx<span class=\"token punctuation\">.</span>xxx<span class=\"token operator\">:</span><span class=\"token number\">9194</span> <span class=\"token operator\">(</span>ssl<span class=\"token operator\">)</span> with socket <span class=\"token number\">2816</span>\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628224.178</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>main<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> Cluster connection already in progress<span class=\"token operator\">:</span> no cluster connection\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628225.222</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>main<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> Cluster connection already in progress<span class=\"token operator\">:</span> no cluster connection\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628226.284</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>main<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> Cluster connection already in progress<span class=\"token operator\">:</span> no cluster connection\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628227.329</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>main<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> Cluster connection already in progress<span class=\"token operator\">:</span> no cluster connection\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628228.381</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>main<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> Cluster connection already in progress<span class=\"token operator\">:</span> no cluster connection\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628229.419</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>main<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> Cluster connection already in progress<span class=\"token operator\">:</span> no cluster connection\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628230.454</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>main<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> Cluster connection already in progress<span class=\"token operator\">:</span> no cluster connection\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628231.501</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>main<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> Cluster connection already in progress<span class=\"token operator\">:</span> no cluster connection\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628232.461</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>app<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> Cluster connection already in progress<span class=\"token operator\">:</span> application metadata request\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628232.538</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>main<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> Cluster connection already in progress<span class=\"token operator\">:</span> no cluster connection\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628232.805</span><span class=\"token operator\">|</span>DESTROY<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>app<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> Terminating instance <span class=\"token operator\">(</span>destroy flags none <span class=\"token operator\">(</span><span class=\"token number\">0x0</span><span class=\"token operator\">)</span><span class=\"token operator\">)</span>\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628232.806</span><span class=\"token operator\">|</span>DESTROY<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>main<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> Destroy internal\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628232.806</span><span class=\"token operator\">|</span>DESTROY<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>main<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> Removing all topics\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628232.806</span><span class=\"token operator\">|</span>DESTROY<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>main<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> Sending TERMINATE to ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628232.807</span><span class=\"token operator\">|</span>DESTROY<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>main<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> Sending TERMINATE to ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628232.807</span><span class=\"token operator\">|</span>TERM<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token operator\">/</span>internal<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token operator\">/</span>internal<span class=\"token operator\">:</span> Received TERMINATE op in state INIT<span class=\"token operator\">:</span> <span class=\"token number\">2</span> refcnts<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> toppar<span class=\"token operator\">(</span>s<span class=\"token operator\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> active toppar<span class=\"token operator\">(</span>s<span class=\"token operator\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> outbufs<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> waitresps<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> retrybufs\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628232.807</span><span class=\"token operator\">|</span>FAIL<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token operator\">/</span>internal<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token operator\">/</span>internal<span class=\"token operator\">:</span> Client is terminating <span class=\"token operator\">(</span>after <span class=\"token number\">10702ms</span> in state INIT<span class=\"token operator\">)</span> <span class=\"token operator\">(</span>_DESTROY<span class=\"token operator\">)</span>\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628232.807</span><span class=\"token operator\">|</span>STATE<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token operator\">/</span>internal<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token operator\">/</span>internal<span class=\"token operator\">:</span> Broker changed state INIT <span class=\"token operator\">-</span><span class=\"token operator\">></span> DOWN\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628232.807</span><span class=\"token operator\">|</span>BRKTERM<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token operator\">/</span>internal<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token operator\">/</span>internal<span class=\"token operator\">:</span> terminating<span class=\"token operator\">:</span> broker still has <span class=\"token number\">2</span> refcnt<span class=\"token operator\">(</span>s<span class=\"token operator\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> buffer<span class=\"token operator\">(</span>s<span class=\"token operator\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> partition<span class=\"token operator\">(</span>s<span class=\"token operator\">)</span>\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628232.807</span><span class=\"token operator\">|</span>TERM<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Received TERMINATE op in state CONNECT<span class=\"token operator\">:</span> <span class=\"token number\">2</span> refcnts<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> toppar<span class=\"token operator\">(</span>s<span class=\"token operator\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> active toppar<span class=\"token operator\">(</span>s<span class=\"token operator\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> outbufs<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> waitresps<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> retrybufs\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628232.807</span><span class=\"token operator\">|</span>TERM<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Received TERMINATE op in state CONNECT<span class=\"token operator\">:</span> <span class=\"token number\">2</span> refcnts<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> toppar<span class=\"token operator\">(</span>s<span class=\"token operator\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> active toppar<span class=\"token operator\">(</span>s<span class=\"token operator\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> outbufs<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> waitresps<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> retrybufs\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628232.807</span><span class=\"token operator\">|</span>TERMINATE<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token operator\">/</span>internal<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token operator\">/</span>internal<span class=\"token operator\">:</span> Handle is terminating in state DOWN<span class=\"token operator\">:</span> <span class=\"token number\">1</span> refcnts <span class=\"token operator\">(</span><span class=\"token number\">0000022DACAE1508</span><span class=\"token operator\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> toppar<span class=\"token operator\">(</span>s<span class=\"token operator\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> active toppar<span class=\"token operator\">(</span>s<span class=\"token operator\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> outbufs<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> waitresps<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> retrybufs<span class=\"token operator\">:</span> failed <span class=\"token number\">0</span> request<span class=\"token operator\">(</span>s<span class=\"token operator\">)</span> in retry<span class=\"token operator\">+</span>outbuf\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628232.807</span><span class=\"token operator\">|</span>FAIL<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Client is terminating <span class=\"token operator\">(</span>after <span class=\"token number\">10701ms</span> in state CONNECT<span class=\"token operator\">)</span> <span class=\"token operator\">(</span>_DESTROY<span class=\"token operator\">)</span>\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628232.807</span><span class=\"token operator\">|</span>STATE<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Broker changed state CONNECT <span class=\"token operator\">-</span><span class=\"token operator\">></span> DOWN\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628232.807</span><span class=\"token operator\">|</span>FAIL<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Client is terminating <span class=\"token operator\">(</span>after <span class=\"token number\">9658ms</span> in state CONNECT<span class=\"token operator\">)</span> <span class=\"token operator\">(</span>_DESTROY<span class=\"token operator\">)</span>\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628232.807</span><span class=\"token operator\">|</span>STATE<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Broker changed state CONNECT <span class=\"token operator\">-</span><span class=\"token operator\">></span> DOWN\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628232.807</span><span class=\"token operator\">|</span>BRKTERM<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> terminating<span class=\"token operator\">:</span> broker still has <span class=\"token number\">2</span> refcnt<span class=\"token operator\">(</span>s<span class=\"token operator\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> buffer<span class=\"token operator\">(</span>s<span class=\"token operator\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> partition<span class=\"token operator\">(</span>s<span class=\"token operator\">)</span>\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628232.807</span><span class=\"token operator\">|</span>FAIL<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token operator\">/</span>internal<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token operator\">/</span>internal<span class=\"token operator\">:</span> Broker handle is terminating <span class=\"token operator\">(</span>after <span class=\"token number\">0ms</span> in state DOWN<span class=\"token operator\">)</span> <span class=\"token operator\">(</span>_DESTROY<span class=\"token operator\">)</span>\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628232.807</span><span class=\"token operator\">|</span>BRKTERM<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> terminating<span class=\"token operator\">:</span> broker still has <span class=\"token number\">2</span> refcnt<span class=\"token operator\">(</span>s<span class=\"token operator\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> buffer<span class=\"token operator\">(</span>s<span class=\"token operator\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> partition<span class=\"token operator\">(</span>s<span class=\"token operator\">)</span>\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628232.808</span><span class=\"token operator\">|</span>TERMINATE<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Handle is terminating in state DOWN<span class=\"token operator\">:</span> <span class=\"token number\">1</span> refcnts <span class=\"token operator\">(</span><span class=\"token number\">0000022DACAD8418</span><span class=\"token operator\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> toppar<span class=\"token operator\">(</span>s<span class=\"token operator\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> active toppar<span class=\"token operator\">(</span>s<span class=\"token operator\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> outbufs<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> waitresps<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> retrybufs<span class=\"token operator\">:</span> failed <span class=\"token number\">0</span> request<span class=\"token operator\">(</span>s<span class=\"token operator\">)</span> in retry<span class=\"token operator\">+</span>outbuf\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628232.808</span><span class=\"token operator\">|</span>TERMINATE<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Handle is terminating in state DOWN<span class=\"token operator\">:</span> <span class=\"token number\">1</span> refcnts <span class=\"token operator\">(</span><span class=\"token number\">0000022DAC23E208</span><span class=\"token operator\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> toppar<span class=\"token operator\">(</span>s<span class=\"token operator\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> active toppar<span class=\"token operator\">(</span>s<span class=\"token operator\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> outbufs<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> waitresps<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> retrybufs<span class=\"token operator\">:</span> failed <span class=\"token number\">0</span> request<span class=\"token operator\">(</span>s<span class=\"token operator\">)</span> in retry<span class=\"token operator\">+</span>outbuf\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628232.808</span><span class=\"token operator\">|</span>FAIL<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Broker handle is terminating <span class=\"token operator\">(</span>after <span class=\"token number\">0ms</span> in state DOWN<span class=\"token operator\">)</span> <span class=\"token operator\">(</span>_DESTROY<span class=\"token operator\">)</span>\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1666628232.808</span><span class=\"token operator\">|</span>FAIL<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token operator\">-</span>msk<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Broker handle is terminating <span class=\"token operator\">(</span>after <span class=\"token number\">0ms</span> in state DOWN<span class=\"token operator\">)</span> <span class=\"token operator\">(</span>_DESTROY<span class=\"token operator\">)</span></code></pre></div>\n<h3>Possible Causes</h3>\n<ul>\n<li>The port it’s using (9194) has not been added to the security group (firewall) for inbound traffic.</li>\n<li>You have not switched on public access. <a href=\"https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html\">Here’s how</a>.</li>\n</ul>\n<h2>system library:fopen:No such file or directory: fopen</h2>\n<p>This happens when the library cannot load the certificate that you have specified in your configuration. You get a similar error for an incorrect key file.</p>\n<p>For example:</p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token class-name\"><span class=\"token keyword\">var</span></span> adminClientConfig <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">AdminClientConfig</span>\r\n<span class=\"token punctuation\">{</span>\r\n    SocketConnectionSetupTimeoutMs <span class=\"token operator\">=</span> <span class=\"token number\">18000</span><span class=\"token punctuation\">,</span>\r\n    Debug <span class=\"token operator\">=</span> <span class=\"token string\">\"broker,protocol,metadata,topic\"</span><span class=\"token punctuation\">,</span>\r\n    BootstrapServers <span class=\"token operator\">=</span> bootstrap<span class=\"token punctuation\">,</span>\r\n    SecurityProtocol <span class=\"token operator\">=</span> SecurityProtocol<span class=\"token punctuation\">.</span>Ssl<span class=\"token punctuation\">,</span>\r\n    SslCertificateLocation <span class=\"token operator\">=</span> <span class=\"token string\">\"TYPOkafka_test_client.cer\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// TYPO here</span>\r\n    SslKeyLocation <span class=\"token operator\">=</span> <span class=\"token string\">\"kafka_test_client.key\"</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"log\"><pre class=\"language-log\"><code class=\"language-log\"><span class=\"token operator\">%</span><span class=\"token number\">3</span><span class=\"token operator\">|</span><span class=\"token number\">1667391346.010</span><span class=\"token operator\">|</span>SSL<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>app<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> crypto\\bio\\bss_file<span class=\"token punctuation\">.</span>c<span class=\"token operator\">:</span><span class=\"token number\">288</span><span class=\"token operator\">:</span> error<span class=\"token operator\">:</span><span class=\"token number\">02001002</span><span class=\"token operator\">:</span>system library<span class=\"token operator\">:</span>fopen<span class=\"token operator\">:</span>No such file or directory<span class=\"token operator\">:</span> fopen<span class=\"token operator\">(</span><span class=\"token string\">'TYPOkafka_test.cer'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'rb'</span><span class=\"token operator\">)</span>\r\n<span class=\"token operator\">%</span><span class=\"token number\">3</span><span class=\"token operator\">|</span><span class=\"token number\">1667391346.010</span><span class=\"token operator\">|</span>SSL<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>app<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> crypto\\bio\\bss_file<span class=\"token punctuation\">.</span>c<span class=\"token operator\">:</span><span class=\"token number\">290</span><span class=\"token operator\">:</span> error<span class=\"token operator\">:</span><span class=\"token number\">20074002</span><span class=\"token operator\">:</span>BIO routines<span class=\"token operator\">:</span>file_ctrl<span class=\"token operator\">:</span>system lib\r\n<span class=\"token property\">System.InvalidOperationException:</span> <span class=\"token property\">ssl.certificate.location failed:</span> ssl\\ssl_rsa<span class=\"token punctuation\">.</span>c<span class=\"token operator\">:</span><span class=\"token number\">596</span><span class=\"token operator\">:</span> error<span class=\"token operator\">:</span><span class=\"token number\">140DC002</span><span class=\"token operator\">:</span>SSL routines<span class=\"token operator\">:</span>use_certificate_chain_file<span class=\"token operator\">:</span>system lib\r\n  at SafeKafkaHandle Confluent<span class=\"token punctuation\">.</span>Kafka<span class=\"token punctuation\">.</span>Impl<span class=\"token punctuation\">.</span>SafeKafkaHandle<span class=\"token punctuation\">.</span>Create<span class=\"token operator\">(</span>RdKafkaType type<span class=\"token punctuation\">,</span> IntPtr config<span class=\"token punctuation\">,</span> IClient owner<span class=\"token operator\">)</span>\r\n  at Confluent<span class=\"token punctuation\">.</span>Kafka<span class=\"token punctuation\">.</span>Producer`<span class=\"token number\">2</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>ctor<span class=\"token operator\">(</span>ProducerBuilder<span class=\"token operator\">&lt;</span>TKey<span class=\"token punctuation\">,</span> TValue<span class=\"token operator\">></span> builder<span class=\"token operator\">)</span>\r\n  at Confluent<span class=\"token punctuation\">.</span>Kafka<span class=\"token punctuation\">.</span>AdminClient<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>ctor<span class=\"token operator\">(</span>AdminClientBuilder builder<span class=\"token operator\">)</span>\r\n  at IAdminClient Confluent<span class=\"token punctuation\">.</span>Kafka<span class=\"token punctuation\">.</span>AdminClientBuilder<span class=\"token punctuation\">.</span>Build<span class=\"token operator\">(</span><span class=\"token operator\">)</span>\r\n  at void MCO<span class=\"token punctuation\">.</span>CLI<span class=\"token punctuation\">.</span>Commands<span class=\"token punctuation\">.</span>KafkaCommand<span class=\"token punctuation\">.</span>ListTopics<span class=\"token operator\">(</span><span class=\"token operator\">)</span> in <span class=\"token file-path string\">C:\\Projects\\MCO\\MCO.CLI\\Commands\\KafkaCommand.cs</span><span class=\"token operator\">:</span><span class=\"token number\">61</span>\r\n  at async ValueTask MCO<span class=\"token punctuation\">.</span>CLI<span class=\"token punctuation\">.</span>Commands<span class=\"token punctuation\">.</span>KafkaCommand<span class=\"token punctuation\">.</span>ExecuteAsync<span class=\"token operator\">(</span>IConsole console<span class=\"token operator\">)</span> in <span class=\"token file-path string\">C:\\Projects\\MCO\\MCO.CLI\\Commands\\KafkaCommand.cs</span><span class=\"token operator\">:</span><span class=\"token number\">40</span>\r\n  at async Task Typin<span class=\"token punctuation\">.</span>Internal<span class=\"token punctuation\">.</span>Pipeline<span class=\"token punctuation\">.</span>ExecuteCommand<span class=\"token punctuation\">.</span>HandleAsync<span class=\"token operator\">(</span>ICliContext context<span class=\"token punctuation\">,</span> CommandPipelineHandlerDelegate next<span class=\"token punctuation\">,</span> CancellationToken cancellationToken<span class=\"token operator\">)</span>\r\n  at async Task MCO<span class=\"token punctuation\">.</span>CLI<span class=\"token punctuation\">.</span>Middleware<span class=\"token punctuation\">.</span>CheckZoneMiddleware<span class=\"token punctuation\">.</span>HandleAsync<span class=\"token operator\">(</span>ICliContext context<span class=\"token punctuation\">,</span> CommandPipelineHandlerDelegate next<span class=\"token punctuation\">,</span> CancellationToken cancellationToken<span class=\"token operator\">)</span> in <span class=\"token file-path string\">C:\\Projects\\MCO\\MCO.CLI\\Middleware\\CheckZoneMiddleware.cs</span><span class=\"token operator\">:</span><span class=\"token number\">25</span>\r\n  at async Task Typin<span class=\"token punctuation\">.</span>Internal<span class=\"token punctuation\">.</span>Pipeline<span class=\"token punctuation\">.</span>BindInput<span class=\"token punctuation\">.</span>HandleAsync<span class=\"token operator\">(</span>ICliContext context<span class=\"token punctuation\">,</span> CommandPipelineHandlerDelegate next<span class=\"token punctuation\">,</span> CancellationToken cancellationToken<span class=\"token operator\">)</span>\r\n  at async Task Typin<span class=\"token punctuation\">.</span>Internal<span class=\"token punctuation\">.</span>Pipeline<span class=\"token punctuation\">.</span>HandleSpecialOptions<span class=\"token punctuation\">.</span>HandleAsync<span class=\"token operator\">(</span>ICliContext context<span class=\"token punctuation\">,</span> CommandPipelineHandlerDelegate next<span class=\"token punctuation\">,</span> CancellationToken cancellationToken<span class=\"token operator\">)</span>\r\n  at async Task Typin<span class=\"token punctuation\">.</span>Internal<span class=\"token punctuation\">.</span>Pipeline<span class=\"token punctuation\">.</span>ExecuteDirectivesSubpipeline<span class=\"token punctuation\">.</span>HandleAsync<span class=\"token operator\">(</span>ICliContext context<span class=\"token punctuation\">,</span> CommandPipelineHandlerDelegate next<span class=\"token punctuation\">,</span> CancellationToken cancellationToken<span class=\"token operator\">)</span>\r\n  at async Task Typin<span class=\"token punctuation\">.</span>Internal<span class=\"token punctuation\">.</span>Pipeline<span class=\"token punctuation\">.</span>InitializeDirectives<span class=\"token punctuation\">.</span>HandleAsync<span class=\"token operator\">(</span>ICliContext context<span class=\"token punctuation\">,</span> CommandPipelineHandlerDelegate next<span class=\"token punctuation\">,</span> CancellationToken cancellationToken<span class=\"token operator\">)</span>\r\n  at async Task Typin<span class=\"token punctuation\">.</span>Internal<span class=\"token punctuation\">.</span>Pipeline<span class=\"token punctuation\">.</span>ResolveCommandSchemaAndInstance<span class=\"token punctuation\">.</span>HandleAsync<span class=\"token operator\">(</span>ICliContext context<span class=\"token punctuation\">,</span> CommandPipelineHandlerDelegate next<span class=\"token punctuation\">,</span> CancellationToken cancellationToken<span class=\"token operator\">)</span>\r\n  at async Task MCO<span class=\"token punctuation\">.</span>CLI<span class=\"token punctuation\">.</span>Middleware<span class=\"token punctuation\">.</span>TimeTravelMiddleware<span class=\"token punctuation\">.</span>HandleAsync<span class=\"token operator\">(</span>ICliContext context<span class=\"token punctuation\">,</span> CommandPipelineHandlerDelegate next<span class=\"token punctuation\">,</span> CancellationToken cancellationToken<span class=\"token operator\">)</span> in <span class=\"token file-path string\">C:\\Projects\\MCO\\MCO.CLI\\Middleware\\TimeTravelMiddleware.cs</span><span class=\"token operator\">:</span><span class=\"token number\">46</span>\r\n  at async Task MCO<span class=\"token punctuation\">.</span>CLI<span class=\"token punctuation\">.</span>Middleware<span class=\"token punctuation\">.</span>CliTenantMiddleware<span class=\"token punctuation\">.</span>HandleAsync<span class=\"token operator\">(</span>ICliContext context<span class=\"token punctuation\">,</span> CommandPipelineHandlerDelegate next<span class=\"token punctuation\">,</span> CancellationToken cancellationToken<span class=\"token operator\">)</span> in <span class=\"token file-path string\">C:\\Projects\\MCO\\MCO.CLI\\Middleware\\CliTenantMiddleware.cs</span><span class=\"token operator\">:</span><span class=\"token number\">53</span>\r\n  at async Task MCO<span class=\"token punctuation\">.</span>CLI<span class=\"token punctuation\">.</span>Middleware<span class=\"token punctuation\">.</span>LogLevelMiddleware<span class=\"token punctuation\">.</span>HandleAsync<span class=\"token operator\">(</span>ICliContext context<span class=\"token punctuation\">,</span> CommandPipelineHandlerDelegate next<span class=\"token punctuation\">,</span> CancellationToken cancellationToken<span class=\"token operator\">)</span> in <span class=\"token file-path string\">C:\\Projects\\MCO\\MCO.CLI\\Middleware\\LogLevelMiddleware.cs</span><span class=\"token operator\">:</span><span class=\"token number\">25</span>\r\n  at async Task MCO<span class=\"token punctuation\">.</span>CLI<span class=\"token punctuation\">.</span>Middleware<span class=\"token punctuation\">.</span>McoInitialisingMiddleware<span class=\"token punctuation\">.</span>HandleAsync<span class=\"token operator\">(</span>ICliContext context<span class=\"token punctuation\">,</span> CommandPipelineHandlerDelegate next<span class=\"token punctuation\">,</span> CancellationToken cancellationToken<span class=\"token operator\">)</span> in <span class=\"token file-path string\">C:\\Projects\\MCO\\MCO.CLI\\Middleware\\McoInitialisingMiddleware.cs</span><span class=\"token operator\">:</span><span class=\"token number\">21</span>\r\n  at async Task Typin<span class=\"token punctuation\">.</span>Internal<span class=\"token punctuation\">.</span>CliCommandExecutor<span class=\"token punctuation\">.</span>RunPipelineAsync<span class=\"token operator\">(</span>IServiceProvider serviceProvider<span class=\"token punctuation\">,</span> ICliContext context<span class=\"token operator\">)</span>\r\n  at async Task<span class=\"token operator\">&lt;</span>int<span class=\"token operator\">></span> Typin<span class=\"token punctuation\">.</span>Internal<span class=\"token punctuation\">.</span>CliCommandExecutor<span class=\"token punctuation\">.</span>ExecuteCommandAsync<span class=\"token operator\">(</span>IEnumerable<span class=\"token operator\">&lt;</span>string<span class=\"token operator\">></span> commandLineArguments<span class=\"token operator\">)</span></code></pre></div>\n<h2>SSL routines:ssl3_read_bytes:sslv3 alert bad certificate</h2>\n<p>This happens when your key file was not configured at all.</p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token class-name\"><span class=\"token keyword\">var</span></span> adminClientConfig <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">AdminClientConfig</span>\r\n<span class=\"token punctuation\">{</span>\r\n    SocketConnectionSetupTimeoutMs <span class=\"token operator\">=</span> <span class=\"token number\">18000</span><span class=\"token punctuation\">,</span>\r\n    Debug <span class=\"token operator\">=</span> <span class=\"token string\">\"broker,protocol,metadata,topic\"</span><span class=\"token punctuation\">,</span>\r\n    BootstrapServers <span class=\"token operator\">=</span> bootstrap<span class=\"token punctuation\">,</span>\r\n    SecurityProtocol <span class=\"token operator\">=</span> SecurityProtocol<span class=\"token punctuation\">.</span>Ssl<span class=\"token punctuation\">,</span>\r\n    SslCertificateLocation <span class=\"token operator\">=</span> <span class=\"token string\">\"kafka_test_client.cer\"</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token comment\">// SslKeyLocation = \"kafka_test_client.key\" // Key file is not configured!</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"log\"><pre class=\"language-log\"><code class=\"language-log\"><span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1667391595.595</span><span class=\"token operator\">|</span>BRKMAIN<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token operator\">/</span>internal<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token operator\">/</span>internal<span class=\"token operator\">:</span> Enter main broker thread\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1667391595.595</span><span class=\"token operator\">|</span>BROKER<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>app<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Added new broker with NodeId <span class=\"token operator\">-</span><span class=\"token number\">1</span>\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1667391595.595</span><span class=\"token operator\">|</span>BRKMAIN<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Enter main broker thread\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1667391595.595</span><span class=\"token operator\">|</span>BROKER<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>app<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Added new broker with NodeId <span class=\"token operator\">-</span><span class=\"token number\">1</span>\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1667391595.596</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>app<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Selected for cluster connection<span class=\"token operator\">:</span> bootstrap servers added <span class=\"token operator\">(</span>broker has <span class=\"token number\">0</span> connection attempt<span class=\"token operator\">(</span>s<span class=\"token operator\">)</span><span class=\"token operator\">)</span>\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1667391595.596</span><span class=\"token operator\">|</span>BRKMAIN<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Enter main broker thread\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1667391595.596</span><span class=\"token operator\">|</span>INIT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>app<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> librdkafka <span class=\"token number\">v1.9.2</span> <span class=\"token operator\">(</span><span class=\"token number\">0x10902ff</span><span class=\"token operator\">)</span> rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span> initialized <span class=\"token operator\">(</span>builtin<span class=\"token punctuation\">.</span>features gzip<span class=\"token punctuation\">,</span>snappy<span class=\"token punctuation\">,</span>ssl<span class=\"token punctuation\">,</span>sasl<span class=\"token punctuation\">,</span>regex<span class=\"token punctuation\">,</span>lz4<span class=\"token punctuation\">,</span>sasl_gssapi<span class=\"token punctuation\">,</span>sasl_plain<span class=\"token punctuation\">,</span>sasl_scram<span class=\"token punctuation\">,</span>plugins<span class=\"token punctuation\">,</span>zstd<span class=\"token punctuation\">,</span>sasl_oauthbearer<span class=\"token punctuation\">,</span>http<span class=\"token punctuation\">,</span>oidc<span class=\"token punctuation\">,</span> SSL ZLIB SNAPPY ZSTD CURL SASL_SCRAM SASL_OAUTHBEARER PLUGINS HDRHISTOGRAM<span class=\"token punctuation\">,</span> debug <span class=\"token number\">0x8e</span><span class=\"token operator\">)</span>\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1667391595.596</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Received CONNECT op\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1667391595.596</span><span class=\"token operator\">|</span>STATE<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Broker changed state INIT <span class=\"token operator\">-</span><span class=\"token operator\">></span> TRY_CONNECT\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1667391595.596</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> broker in state TRY_CONNECT connecting\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1667391595.596</span><span class=\"token operator\">|</span>STATE<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Broker changed state TRY_CONNECT <span class=\"token operator\">-</span><span class=\"token operator\">></span> CONNECT\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1667391595.606</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>app<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> Not selecting any broker for cluster connection<span class=\"token operator\">:</span> still suppressed for <span class=\"token number\">39ms</span><span class=\"token operator\">:</span> application metadata request\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1667391595.621</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Connecting to ipv4<span class=\"token operator\">#</span><span class=\"token ip-address constant\">3.8.254.176</span><span class=\"token operator\">:</span><span class=\"token number\">9194</span> <span class=\"token operator\">(</span>ssl<span class=\"token operator\">)</span> with socket <span class=\"token number\">2548</span>\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1667391595.655</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Connected to ipv4<span class=\"token operator\">#</span><span class=\"token ip-address constant\">3.8.254.176</span><span class=\"token operator\">:</span><span class=\"token number\">9194</span>\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1667391595.656</span><span class=\"token operator\">|</span>STATE<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Broker changed state CONNECT <span class=\"token operator\">-</span><span class=\"token operator\">></span> SSL_HANDSHAKE\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1667391595.656</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>app<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Selected for cluster connection<span class=\"token operator\">:</span> application metadata request <span class=\"token operator\">(</span>broker has <span class=\"token number\">0</span> connection attempt<span class=\"token operator\">(</span>s<span class=\"token operator\">)</span><span class=\"token operator\">)</span>\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1667391595.657</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Received CONNECT op\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1667391595.657</span><span class=\"token operator\">|</span>STATE<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Broker changed state INIT <span class=\"token operator\">-</span><span class=\"token operator\">></span> TRY_CONNECT\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1667391595.657</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> broker in state TRY_CONNECT connecting\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1667391595.657</span><span class=\"token operator\">|</span>STATE<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Broker changed state TRY_CONNECT <span class=\"token operator\">-</span><span class=\"token operator\">></span> CONNECT\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1667391595.657</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>app<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> Not selecting any broker for cluster connection<span class=\"token operator\">:</span> still suppressed for <span class=\"token number\">49ms</span><span class=\"token operator\">:</span> application metadata request\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1667391595.657</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>app<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> Not selecting any broker for cluster connection<span class=\"token operator\">:</span> still suppressed for <span class=\"token number\">49ms</span><span class=\"token operator\">:</span> application metadata request\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1667391595.678</span><span class=\"token operator\">|</span>CONNECT<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker1<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> Connecting to ipv4<span class=\"token operator\">#</span><span class=\"token ip-address constant\">18.169.67.207</span><span class=\"token operator\">:</span><span class=\"token number\">9194</span> <span class=\"token operator\">(</span>ssl<span class=\"token operator\">)</span> with socket <span class=\"token number\">2584</span>\r\n<span class=\"token operator\">%</span><span class=\"token number\">7</span><span class=\"token operator\">|</span><span class=\"token number\">1667391595.691</span><span class=\"token operator\">|</span>FAIL<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> SSL handshake failed<span class=\"token operator\">:</span> ssl\\record\\rec_layer_s3<span class=\"token punctuation\">.</span>c<span class=\"token operator\">:</span><span class=\"token number\">1544</span><span class=\"token operator\">:</span> error<span class=\"token operator\">:</span><span class=\"token number\">14094412</span><span class=\"token operator\">:</span>SSL routines<span class=\"token operator\">:</span>ssl3_read_bytes<span class=\"token operator\">:</span>sslv3 alert bad certificate<span class=\"token operator\">:</span> SSL alert number <span class=\"token number\">42</span> <span class=\"token operator\">(</span>after <span class=\"token number\">34ms</span> in state SSL_HANDSHAKE<span class=\"token operator\">)</span> <span class=\"token operator\">(</span>_SSL<span class=\"token operator\">)</span>\r\n<span class=\"token operator\">%</span><span class=\"token number\">3</span><span class=\"token operator\">|</span><span class=\"token number\">1667391595.691</span><span class=\"token operator\">|</span>FAIL<span class=\"token operator\">|</span>rdkafka<span class=\"token operator\">#</span>producer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">|</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> ssl<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>broker2<span class=\"token punctuation\">.</span>kafka<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">-</span>west<span class=\"token operator\">-</span>2<span class=\"token punctuation\">.</span>amazonaws<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span><span class=\"token number\">9194</span><span class=\"token operator\">/</span>bootstrap<span class=\"token operator\">:</span> SSL handshake failed<span class=\"token operator\">:</span> ssl\\record\\rec_layer_s3<span class=\"token punctuation\">.</span>c<span class=\"token operator\">:</span><span class=\"token number\">1544</span><span class=\"token operator\">:</span> error<span class=\"token operator\">:</span><span class=\"token number\">14094412</span><span class=\"token operator\">:</span>SSL routines<span class=\"token operator\">:</span>ssl3_read_bytes<span class=\"token operator\">:</span>sslv3 alert bad certificate<span class=\"token operator\">:</span> SSL alert number <span class=\"token number\">42</span> <span class=\"token operator\">(</span>after <span class=\"token number\">34ms</span> in state SSL_HANDSHAKE<span class=\"token operator\">)</span>\r\n\r\nLogs repeat<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\r\n</code></pre></div>","frontmatter":{"title":"Troubleshooting Connecting .NET to MSK","date":"November 02, 2022","description":null}},"previous":{"fields":{"slug":"/2022-10-31-aws-msk-dotnet/"},"frontmatter":{"title":"Connecting .NET to AWS Kafka (MSK)"}},"next":{"fields":{"slug":"/2022-11-23-postgresql-turn-on-stats/"},"frontmatter":{"title":"Find out what SQL queries are slow on PostgreSQL locally"}}},"pageContext":{"id":"37f59afc-cecb-57d8-b8f5-fabb74a50a10","previousPostId":"610e9902-24ec-5f65-9a84-6a269384c174","nextPostId":"ffc29e67-62e0-5377-9501-dd3469ec10d5"}},"staticQueryHashes":["2841359383","69202846"]}