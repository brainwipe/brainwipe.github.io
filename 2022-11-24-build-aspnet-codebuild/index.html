<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.14.0"/><meta name="description" content="These are technical notes for going from code committed into a repository to Blue/Green deployments on AWS as of 12th November 2024. Technology does change and…" data-gatsby-head="true"/><meta property="og:title" content="From GitHub to AWS ECS Serverless - Part 1 - Build" data-gatsby-head="true"/><meta property="og:description" content="These are technical notes for going from code committed into a repository to Blue/Green deployments on AWS as of 12th November 2024. Technology does change and…" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta name="twitter:card" content="summary" data-gatsby-head="true"/><meta name="twitter:creator" content="brainwipe" data-gatsby-head="true"/><meta name="twitter:title" content="From GitHub to AWS ECS Serverless - Part 1 - Build" data-gatsby-head="true"/><meta name="twitter:description" content="These are technical notes for going from code committed into a repository to Blue/Green deployments on AWS as of 12th November 2024. Technology does change and…" data-gatsby-head="true"/><style data-href="/styles.8dfba4a7c3d44b256d62.css" data-identity="gatsby-global-css">@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:100;src:local("Montserrat Thin "),local("Montserrat-Thin"),url(/static/montserrat-latin-100-8d7d79679b70dbe27172b6460e7a7910.woff2) format("woff2"),url(/static/montserrat-latin-100-ec38980a9e0119a379e2a9b3dbb1901a.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:100;src:local("Montserrat Thin italic"),local("Montserrat-Thinitalic"),url(/static/montserrat-latin-100italic-e279051046ba1286706adc886cf1c96b.woff2) format("woff2"),url(/static/montserrat-latin-100italic-3b325a3173c8207435cd1b76e19bf501.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:200;src:local("Montserrat Extra Light "),local("Montserrat-Extra Light"),url(/static/montserrat-latin-200-9d266fbbfa6cab7009bd56003b1eeb67.woff2) format("woff2"),url(/static/montserrat-latin-200-2d8ba08717110d27122e54c34b8a5798.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:200;src:local("Montserrat Extra Light italic"),local("Montserrat-Extra Lightitalic"),url(/static/montserrat-latin-200italic-6e5b3756583bb2263eb062eae992735e.woff2) format("woff2"),url(/static/montserrat-latin-200italic-a0d6f343e4b536c582926255367a57da.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:300;src:local("Montserrat Light "),local("Montserrat-Light"),url(/static/montserrat-latin-300-00b3e893aab5a8fd632d6342eb72551a.woff2) format("woff2"),url(/static/montserrat-latin-300-ea303695ceab35f17e7d062f30e0173b.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:300;src:local("Montserrat Light italic"),local("Montserrat-Lightitalic"),url(/static/montserrat-latin-300italic-56f34ea368f6aedf89583d444bbcb227.woff2) format("woff2"),url(/static/montserrat-latin-300italic-54b0bf2c8c4c12ffafd803be2466a790.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:400;src:local("Montserrat Regular "),local("Montserrat-Regular"),url(/static/montserrat-latin-400-b71748ae4f80ec8c014def4c5fa8688b.woff2) format("woff2"),url(/static/montserrat-latin-400-0659a9f4e90db5cf51b50d005bff1e41.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:400;src:local("Montserrat Regular italic"),local("Montserrat-Regularitalic"),url(/static/montserrat-latin-400italic-6eed6b4cbb809c6efc7aa7ddad6dbe3e.woff2) format("woff2"),url(/static/montserrat-latin-400italic-7583622cfde30ae49086d18447ab28e7.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:500;src:local("Montserrat Medium "),local("Montserrat-Medium"),url(/static/montserrat-latin-500-091b209546e16313fd4f4fc36090c757.woff2) format("woff2"),url(/static/montserrat-latin-500-edd311588712a96bbf435fad264fff62.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:500;src:local("Montserrat Medium italic"),local("Montserrat-Mediumitalic"),url(/static/montserrat-latin-500italic-c90ced68b46050061d1a41842d6dfb43.woff2) format("woff2"),url(/static/montserrat-latin-500italic-5146cbfe02b1deea5dffea27a5f2f998.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:600;src:local("Montserrat SemiBold "),local("Montserrat-SemiBold"),url(/static/montserrat-latin-600-0480d2f8a71f38db8633b84d8722e0c2.woff2) format("woff2"),url(/static/montserrat-latin-600-b77863a375260a05dd13f86a1cee598f.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:600;src:local("Montserrat SemiBold italic"),local("Montserrat-SemiBolditalic"),url(/static/montserrat-latin-600italic-cf46ffb11f3a60d7df0567f8851a1d00.woff2) format("woff2"),url(/static/montserrat-latin-600italic-c4fcfeeb057724724097167e57bd7801.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:700;src:local("Montserrat Bold "),local("Montserrat-Bold"),url(/static/montserrat-latin-700-7dbcc8a5ea2289d83f657c25b4be6193.woff2) format("woff2"),url(/static/montserrat-latin-700-99271a835e1cae8c76ef8bba99a8cc4e.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:700;src:local("Montserrat Bold italic"),local("Montserrat-Bolditalic"),url(/static/montserrat-latin-700italic-c41ad6bdb4bd504a843d546d0a47958d.woff2) format("woff2"),url(/static/montserrat-latin-700italic-6779372f04095051c62ed36bc1dcc142.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:800;src:local("Montserrat ExtraBold "),local("Montserrat-ExtraBold"),url(/static/montserrat-latin-800-db9a3e0ba7eaea32e5f55328ace6cf23.woff2) format("woff2"),url(/static/montserrat-latin-800-4e3c615967a2360f5db87d2f0fd2456f.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:800;src:local("Montserrat ExtraBold italic"),local("Montserrat-ExtraBolditalic"),url(/static/montserrat-latin-800italic-bf45bfa14805969eda318973947bc42b.woff2) format("woff2"),url(/static/montserrat-latin-800italic-fe82abb0bcede51bf724254878e0c374.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:900;src:local("Montserrat Black "),local("Montserrat-Black"),url(/static/montserrat-latin-900-e66c7edc609e24bacbb705175669d814.woff2) format("woff2"),url(/static/montserrat-latin-900-8211f418baeb8ec880b80ba3c682f957.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:900;src:local("Montserrat Black italic"),local("Montserrat-Blackitalic"),url(/static/montserrat-latin-900italic-4454c775e48152c1a72510ceed3603e2.woff2) format("woff2"),url(/static/montserrat-latin-900italic-efcaa0f6a82ee0640b83a0916e6e8d68.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:300;src:local("Merriweather Light "),local("Merriweather-Light"),url(/static/merriweather-latin-300-fc117160c69a8ea0851b26dd14748ee4.woff2) format("woff2"),url(/static/merriweather-latin-300-58b18067ebbd21fda77b67e73c241d3b.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:300;src:local("Merriweather Light italic"),local("Merriweather-Lightitalic"),url(/static/merriweather-latin-300italic-fe29961474f8dbf77c0aa7b9a629e4bc.woff2) format("woff2"),url(/static/merriweather-latin-300italic-23c3f1f88683618a4fb8d265d33d383a.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:400;src:local("Merriweather Regular "),local("Merriweather-Regular"),url(/static/merriweather-latin-400-d9479e8023bef9cbd9bf8d6eabd6bf36.woff2) format("woff2"),url(/static/merriweather-latin-400-040426f99ff6e00b86506452e0d1f10b.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:400;src:local("Merriweather Regular italic"),local("Merriweather-Regularitalic"),url(/static/merriweather-latin-400italic-2de7bfeaf08fb03d4315d49947f062f7.woff2) format("woff2"),url(/static/merriweather-latin-400italic-79db67aca65f5285964ab332bd65f451.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:700;src:local("Merriweather Bold "),local("Merriweather-Bold"),url(/static/merriweather-latin-700-4b08e01d805fa35d7bf777f1b24314ae.woff2) format("woff2"),url(/static/merriweather-latin-700-22fb8afba4ab1f093b6ef9e28a9b6e92.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:700;src:local("Merriweather Bold italic"),local("Merriweather-Bolditalic"),url(/static/merriweather-latin-700italic-cd92541b177652fffb6e3b952f1c33f1.woff2) format("woff2"),url(/static/merriweather-latin-700italic-f87f3d87cea0dd0979bfc8ac9ea90243.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:900;src:local("Merriweather Black "),local("Merriweather-Black"),url(/static/merriweather-latin-900-f813fc6a4bee46eda5224ac7ebf1b7be.woff2) format("woff2"),url(/static/merriweather-latin-900-5d4e42cb44410674acd99153d57df032.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:900;src:local("Merriweather Black italic"),local("Merriweather-Blackitalic"),url(/static/merriweather-latin-900italic-b7901d85486871c1779c0e93ddd85656.woff2) format("woff2"),url(/static/merriweather-latin-900italic-9647f9fdab98756989a8a5550eb205c3.woff) format("woff")}


/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{-webkit-text-size-adjust:100%;line-height:1.15}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden]{display:none}:root{--maxWidth-none:"none";--maxWidth-xs:20rem;--maxWidth-sm:24rem;--maxWidth-md:28rem;--maxWidth-lg:32rem;--maxWidth-xl:36rem;--maxWidth-2xl:42rem;--maxWidth-3xl:48rem;--maxWidth-4xl:56rem;--maxWidth-full:"100%";--maxWidth-wrapper:var(--maxWidth-2xl);--spacing-px:"1px";--spacing-0:0;--spacing-1:0.25rem;--spacing-2:0.5rem;--spacing-3:0.75rem;--spacing-4:1rem;--spacing-5:1.25rem;--spacing-6:1.5rem;--spacing-8:2rem;--spacing-10:2.5rem;--spacing-12:3rem;--spacing-16:4rem;--spacing-20:5rem;--spacing-24:6rem;--spacing-32:8rem;--fontFamily-sans:Montserrat,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--fontFamily-serif:"Merriweather","Georgia",Cambria,"Times New Roman",Times,serif;--font-body:var(--fontFamily-serif);--font-heading:var(--fontFamily-sans);--fontWeight-normal:400;--fontWeight-medium:500;--fontWeight-semibold:600;--fontWeight-bold:700;--fontWeight-extrabold:800;--fontWeight-black:900;--fontSize-root:16px;--lineHeight-none:1;--lineHeight-tight:1.1;--lineHeight-normal:1.5;--lineHeight-relaxed:1.625;--fontSize-0:0.833rem;--fontSize-1:1rem;--fontSize-2:1.2rem;--fontSize-3:1.44rem;--fontSize-4:1.728rem;--fontSize-5:2.074rem;--fontSize-6:2.488rem;--fontSize-7:2.986rem;--color-primary:#005b99;--color-text:#2e353f;--color-text-light:#4f5969;--color-heading:#1a202c;--color-heading-black:#000;--color-accent:#d1dce5}*,:after,:before{box-sizing:border-box}html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:var(--fontSize-root);line-height:var(--lineHeight-normal)}body{color:var(--color-text);font-family:var(--font-body);font-size:var(--fontSize-1)}footer{padding:var(--spacing-6) var(--spacing-0)}hr{background:var(--color-accent);border:0;height:1px}h1,h2,h3,h4,h5,h6{font-family:var(--font-heading);letter-spacing:-.025em;line-height:var(--lineHeight-tight);margin-bottom:var(--spacing-6);margin-top:var(--spacing-12)}h2,h3,h4,h5,h6{color:var(--color-heading);font-weight:var(--fontWeight-bold)}h1{color:var(--color-heading-black);font-size:var(--fontSize-6);font-weight:var(--fontWeight-black)}h2{font-size:var(--fontSize-5)}h3{font-size:var(--fontSize-4)}h4{font-size:var(--fontSize-3)}h5{font-size:var(--fontSize-2)}h6{font-size:var(--fontSize-1)}h1>a,h2>a,h3>a,h4>a,h5>a,h6>a{color:inherit;text-decoration:none}p{--baseline-multiplier:0.179;--x-height-multiplier:0.35;line-height:var(--lineHeight-relaxed);margin:var(--spacing-0) var(--spacing-0) var(--spacing-8) var(--spacing-0)}ol,p,ul{padding:var(--spacing-0)}ol,ul{list-style-image:none;list-style-position:outside;margin-bottom:var(--spacing-8);margin-left:var(--spacing-0);margin-right:var(--spacing-0)}ol li,ul li{padding-left:var(--spacing-0)}li>p,ol li,ul li{margin-bottom:calc(var(--spacing-8)/2)}li :last-child{margin-bottom:var(--spacing-0)}li>ul{margin-left:var(--spacing-8);margin-top:calc(var(--spacing-8)/2)}blockquote{border-left:var(--spacing-1) solid var(--color-primary);color:var(--color-text-light);font-size:var(--fontSize-2);font-style:italic;margin-bottom:var(--spacing-8);margin-left:calc(var(--spacing-6)*-1);margin-right:var(--spacing-8);padding:var(--spacing-0) var(--spacing-0) var(--spacing-0) var(--spacing-6)}blockquote>:last-child{margin-bottom:var(--spacing-0)}blockquote>ol,blockquote>ul{list-style-position:inside}table{border-collapse:collapse;border-spacing:.25rem;margin-bottom:var(--spacing-8);width:100%}table thead tr th{border-bottom:1px solid var(--color-accent)}a{color:var(--color-primary)}a:focus,a:hover{text-decoration:none}.global-wrapper{margin:var(--spacing-0) auto;max-width:var(--maxWidth-wrapper);padding:var(--spacing-10) var(--spacing-5)}.global-wrapper[data-is-root-path=true] .bio{margin-bottom:var(--spacing-20)}.global-header{margin-bottom:var(--spacing-12)}.main-heading{font-size:var(--fontSize-7);margin:0}.post-list-item{margin-bottom:var(--spacing-8);margin-top:var(--spacing-8)}.post-list-item p{margin-bottom:var(--spacing-0)}.post-list-item h2{color:var(--color-primary);font-size:var(--fontSize-4);margin-bottom:var(--spacing-2);margin-top:var(--spacing-0)}.post-list-item header{margin-bottom:var(--spacing-4)}.header-link-home{font-family:var(--font-heading);font-size:var(--fontSize-2);font-weight:var(--fontWeight-bold);text-decoration:none}.bio{display:flex;margin-bottom:var(--spacing-16)}.bio p,.bio-avatar{margin-bottom:var(--spacing-0)}.bio-avatar{border-radius:100%;margin-right:var(--spacing-4);min-width:50px}.blog-post header h1{margin:var(--spacing-0) var(--spacing-0) var(--spacing-4) var(--spacing-0)}.blog-post header p{font-family:var(--font-heading);font-size:var(--fontSize-2)}.blog-post-nav ul{margin:var(--spacing-0)}.gatsby-highlight{margin-bottom:var(--spacing-8)}@media (max-width:42rem){blockquote{margin-left:var(--spacing-0);padding:var(--spacing-0) var(--spacing-0) var(--spacing-0) var(--spacing-4)}ol,ul{list-style-position:inside}}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#000;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;text-shadow:0 1px #fff;white-space:pre;word-break:normal;word-spacing:normal}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#b3d4fc;text-shadow:none}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{background:hsla(0,0%,100%,.5);color:#9a6e3a}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="alternate" type="application/rss+xml" title="Rob Lang&#x27;s Blog RSS Feed" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=4a9773549091c227cd2eb82ccd9c5e3a" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><title data-gatsby-head="true">From GitHub to AWS ECS Serverless - Part 1 - Build | The Plastic Neuron</title></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="global-wrapper" data-is-root-path="false"><header class="global-header"><a class="header-link-home" href="/">The Plastic Neuron</a></header><main><article class="blog-post" itemscope="" itemType="http://schema.org/Article"><header><h1 itemProp="headline">From GitHub to AWS ECS Serverless - Part 1 - Build</h1><p>November 12, 2024</p></header><section itemProp="articleBody"><p>These are technical notes for going from code committed into a repository to Blue/Green deployments on AWS as of 12th November 2024. Technology does change and some of the limitations I’m going to list will be fixed by AWS in the future.</p>
<p>I’m a practitioner, not an expert. If you know a better way, then go for it. Some of the instructions here are oddly specific to my use case. However, if I were to document all use cases, you would end up with the AWS documentation rather than a single thought out description.</p>
<blockquote>
<p>You might incur a cost following these instructions</p>
</blockquote>
<h2>Pre-Requisites</h2>
<p>You have the following:</p>
<ul>
<li>ASP.NET application that runs up in a single container</li>
<li>A container that performs you ASP.NET image building</li>
<li>The application is stored in a private GitHub repository</li>
<li>You have GitHub administrator access over the repository</li>
<li>You have AWS permissions to use the CodePipeline and CodeBuild (but likely you’ll need more)</li>
</ul>
<h2>AWS Developer Tools in Brief</h2>
<p>AWS has a suite of tools they call <a href="https://aws.amazon.com/products/developer-tools/">AWS Developer Tools</a>, which allow you to host, build, test and deploy your code with all of the usual AWS trappings of AWS CloudWatch for logging, S3 for storage, IAM for access control, SNS for sending out messages and so on. Each of the tools (CodeCommit, CodeArtifact, CodeBuild, CodeDeploy, CodePipeline) work independently so you can swap out parts by integrating with 3rd parties. If you are building your containers using <a href="https://github.com/features/actions">GitHub Actions</a> then pushing them into the AWS Elastic Container Registry (ECR) then that should work. I’m not doing that here for simplicity.</p>
<p>We use GitHub, so we don’t need CodeCommit or CodeArtifact. We do want CodeBuild, CodeDeploy and CodePipeline. They aren’t as tightly integrated as you might expect for example:</p>
<blockquote>
<p>If you create a CodeBuild project in CodeBuild directly, then it won’t necessarily run CodePipeline. You must create the CodeBuild Project through CodePipeline.</p>
</blockquote>
<p>And vice versa - a CodeBuild project that is built in the pipeline is unlikely to build on its own because there are parameters (such as the source) that CodeBuild needs but will exist only in the pipeline.</p>
<h2>Building ASP.NET containers</h2>
<p>You have followed the official <a href="https://learn.microsoft.com/en-us/dotnet/core/docker/build-container?tabs=windows">Containerize .NET App</a> instructions and have a docker file that builds a docker image. AWS CodeBuild is going to use this file to build the container “runtime image” and put that container into the AWS Elastic Container Registry.</p>
<div class="gatsby-highlight" data-language="docker"><pre class="language-docker"><code class="language-docker"><span class="token comment"># This is from the [Containerize .NET App tutorial])(https://learn.microsoft.com/en-us/dotnet/core/docker/build-container?tabs=windows).</span>

<span class="token instruction"><span class="token keyword">FROM</span> mcr.microsoft.com/dotnet/sdk:8.0 <span class="token keyword">AS</span> build-env</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> /App</span>

<span class="token comment"># Copy everything</span>
<span class="token instruction"><span class="token keyword">COPY</span> . ./</span>
<span class="token comment"># Restore as distinct layers</span>
<span class="token instruction"><span class="token keyword">RUN</span> dotnet restore</span>
<span class="token comment"># Build and publish a release</span>
<span class="token instruction"><span class="token keyword">RUN</span> dotnet publish -c Release -o out</span>

<span class="token comment"># Build runtime image</span>
<span class="token instruction"><span class="token keyword">FROM</span> mcr.microsoft.com/dotnet/aspnet:8.0</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> /App</span>
<span class="token instruction"><span class="token keyword">COPY</span> <span class="token options"><span class="token property">--from</span><span class="token punctuation">=</span><span class="token string">build-env</span></span> /App/out .</span>
<span class="token instruction"><span class="token keyword">ENTRYPOINT</span> [<span class="token string">"dotnet"</span>, <span class="token string">"DotNet.Docker.dll"</span>]</span></code></pre></div>
<h3>Use AWS Image Repository rather than Docker</h3>
<p>If you are also using node to build some embedded ReactJS front end (like we do), you might have a line like this:</p>
<p><code class="language-text">FROM node:21-alpine3.19 AS build-node</code></p>
<p>This will pull a docker image from the docker hub by default (the Microsoft ones come from mcr.microsoft.com). You are likely to get an error message <code class="language-text">CannotPullContainerError: You have reached your pull rate limit</code> <a href="https://repost.aws/knowledge-center/ecs-pull-container-error-rate-limit">details here</a>. To get around the rate limit, find the same container on the <a href="https://gallery.ecr.aws/">AWS Public ECR gallery</a>.</p>
<p>So it became:</p>
<p><code class="language-text">FROM public.ecr.aws/docker/library/node:21-alpine AS build-node</code></p>
<h2>Connect AWS to GitHub</h2>
<p>You need to authenticate AWS to GitHub once for all your pipelines. It’s called a Connection and can be found in Developer Tools -> Settings -> <a href="https://eu-west-2.console.aws.amazon.com/codesuite/settings/connection">Connections</a>. To create a GitHub connection, you will need to be signed in with the account that has owner/administrator access of the GitHub organisation.</p>
<blockquote>
<p>You use the administrator role to setup the connection, after that AWS is installed as a GitHub App in the GitHub organisation.</p>
</blockquote>
<p>So don’t worry about the administrator account changing in the future.</p>
<h3>Steps</h3>
<ul>
<li>Go to the <a href="https://console.aws.amazon.com/codesuite/settings/connection">Connections Screen</a></li>
<li>Click Create Connection</li>
<li>Choose GitHub</li>
<li>Give you connection name, I recommend giving it the name of your application rather than just calling it GitHub</li>
<li>Click Connect to GitHub</li>
<li>Click Install a New App</li>
<li>Click through the GitHub steps for installing an app onto an account (either your personal or the organisation)</li>
</ul>
<p>At the end, you should have your new <a href="https://console.aws.amazon.com/codesuite/settings/connection">GitHub Connection</a> listed on the connections screen.</p>
<h2>Pipelines</h2>
<p>A pipeline is a list of steps where the result of each step feeds into the next. You can have lots of pipelines and they can run simulataneously. Before you start clicking, you need to know what you want to achieve from your pipelines. Some examples include:</p>
<ul>
<li>Build and deploy automatically</li>
<li>Build but only deploy when signed off</li>
<li>Build only</li>
<li>Deploy only</li>
<li>Deploy to specific environment (e.g. dev, test, staging, demo or production)</li>
</ul>
<p>For this example, we want a build pipeline and a separate deploy pipeline.</p>
<h2>CodePipeline for CodeBuild</h2>
<p>We’re going to create the CodeBuild project via the CodePipeline so that the source is set correctly.</p>
<ul>
<li>Go to the <a href="https://console.aws.amazon.com/codesuite/codepipeline/pipelines">Pipelines screen</a> and click Create Pipeline</li>
<li>Select Build Custom Pipeline, Next</li>
<li>For a pipeline name, describe what actions the pipeline is going to do and the product you are working on such as <code class="language-text">deploy-myapp</code></li>
<li>Leave the rest of the defaults, click Next</li>
<li>For Source Provider, choose GitHub App</li>
<li>Select the connection (there’s probably only one if you’re new to this)</li>
<li>Choose the Repository where you ASP.NET app is</li>
<li>Choose Full clone, which gives us more features later</li>
<li>Choose your trigger settings (see note below)
<ul>
<li>Specify filter</li>
<li>Push</li>
<li>Tags</li>
<li>Include <code class="language-text">release*</code></li>
</ul>
</li>
<li>Next</li>
<li>Select <code class="language-text">Other Build Providers</code> and choose <code class="language-text">AWS CodeBuild</code> from the dropdown</li>
<li>Hit Create Project, and this will take you over to CodeBuild in a popup</li>
</ul>
<h3>A note on Service Roles</h3>
<p>If you have a lot of pipelines, it is worth sharing service roles as they will largely be identical. Where the service roles will differ is in S3 access to where the artifacts are stored. I found that creating multiple service roles and then merging them together in the AWS IAM console on a per-product basis was easier. There’s no harm in having lots of service roles (one per pipeline).</p>
<h3>Choosing a Trigger</h3>
<p>Specifying a trigger will depend on how you use git to build your software. My preference is a <a href="https://docs.github.com/en/get-started/using-github/github-flow">GitHub Flow</a>. When we want a build to go to test (QA) and beyond, we give it a tag, usually including the date and an ordinal number such as <code class="language-text">release-2024.11.11.0</code>. Therefore, for the trigger defined above, we want to create a container build whenever it detects a tag with <code class="language-text">release</code> in it. It uses <code class="language-text">*</code> as a wildcard for matching.</p>
<h3>Add more containers later</h3>
<p>If you GitHub repository contains more than one container then you can add more containers later once you get to the end of the Pipeline wizard.</p>
<h2>CodeBuild Project</h2>
<p>We’re now going to create the CodeBuild project, which will use your <code class="language-text">dockerfile</code> to build a single container and put it into the AWS Elastic Container Registry (ECR).</p>
<ul>
<li>For the <code class="language-text">project name</code>, use <code class="language-text">build-myapp</code> because it will be easier to differentiate it</li>
<li>Select Managed Image (see below)</li>
<li>Create a new Service Role</li>
<li>Use a buildspec file - the individual build commands</li>
<li>Put in the path to your buildspec file, if the repo has multiple containers in it then you will need one buildspec for each container</li>
<li>Click continue to CodePipeline to go back</li>
<li>Click Add Environment variables to add any environment variables (see below)</li>
<li>Click Next, Skip deploy stage (we’re not doing deploy yet)</li>
<li>Click Review and then Create will both create the pipeline and run it</li>
</ul>
<h3>Managed Docker Image</h3>
<p>This bit is a little confusing, so stick with me. This <a href="https://docs.aws.amazon.com/codebuild/latest/userguide/build-env-ref-available.html">AWS Managed Image</a> is the docker container that will host and run your dockerfile. That means Amazon starts with an Amazon Linux Docker Container that will run up your docker file that will in turn build a “build-env” which then builds your “runtime” container. That runtime container is then put into ECR but we’ll come onto that next.</p>
<h3>Buildspec File</h3>
<p>The <code class="language-text">buildspec</code> file does the heavy lifting of the build process. It’s split into three sections, we’ll look at each below. Don’t forget that these commands are running inside a docker container shell and because we’ve chosen the default Amazon Linux shell, it has pre-loaded utilities on it. If you want to use a custom one, chances are you’ll need to install those things using linux-like commands.</p>
<p>The <code class="language-text">buildspec</code> file might look like a dockerfile, but it’s not! It can do a lot more than listed here, we’re just trying to get our container to build and push to the ECR. <a href="https://docs.aws.amazon.com/codebuild/latest/userguide/build-spec-ref.html">Checkout the Buildspec reference for more</a>.</p>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token number">0.2</span>

<span class="token key atrule">phases</span><span class="token punctuation">:</span>
  <span class="token key atrule">pre_build</span><span class="token punctuation">:</span>
    <span class="token key atrule">on-failure</span><span class="token punctuation">:</span> ABORT
    <span class="token key atrule">commands</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> echo Logging in to Amazon ECR<span class="token punctuation">...</span>
      <span class="token punctuation">-</span> aws ecr get<span class="token punctuation">-</span>login<span class="token punctuation">-</span>password <span class="token punctuation">-</span><span class="token punctuation">-</span>region $AWS_DEFAULT_REGION <span class="token punctuation">|</span> docker login <span class="token punctuation">-</span><span class="token punctuation">-</span>username AWS <span class="token punctuation">-</span><span class="token punctuation">-</span>password<span class="token punctuation">-</span>stdin $AWS_ACCOUNT_ID.dkr.ecr.$AWS_DEFAULT_REGION.amazonaws.com
  <span class="token key atrule">build</span><span class="token punctuation">:</span>
    <span class="token key atrule">on-failure</span><span class="token punctuation">:</span> ABORT
    <span class="token key atrule">commands</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> echo Build started on `date`
      <span class="token punctuation">-</span> echo Building the Docker image for $TagName<span class="token punctuation">...</span>          
      <span class="token punctuation">-</span> docker build <span class="token punctuation">-</span>t $IMAGE_REPO_NAME<span class="token punctuation">:</span>$TagName <span class="token punctuation">-</span>f myapp.dockerfile .
      <span class="token punctuation">-</span> docker tag $IMAGE_REPO_NAME<span class="token punctuation">:</span>$TagName $AWS_ACCOUNT_ID.dkr.ecr.$AWS_DEFAULT_REGION.amazonaws.com/$IMAGE_REPO_NAME<span class="token punctuation">:</span>$TagName      
  <span class="token key atrule">post_build</span><span class="token punctuation">:</span>
    <span class="token key atrule">on-failure</span><span class="token punctuation">:</span> ABORT
    <span class="token key atrule">commands</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> echo Build completed on `date`
      <span class="token punctuation">-</span> echo Pushing the Docker image<span class="token punctuation">...</span>
      <span class="token punctuation">-</span> docker push $AWS_ACCOUNT_ID.dkr.ecr.$AWS_DEFAULT_REGION.amazonaws.com/$IMAGE_REPO_NAME<span class="token punctuation">:</span>$TagName</code></pre></div>
<h4>Passing variables into the buildspec</h4>
<p>Variables are passed in from outside using the <code class="language-text">$</code>. There are a number of built in <a href="https://docs.aws.amazon.com/codebuild/latest/userguide/build-env-ref-env-vars.html">environment variables</a> CodeBuild will put in there.
If you want to know what all the variables there are, copy and paste the list below into the <code class="language-text">pre_build: commands:</code> and it will print them all out when you run the build for the first time.</p>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token punctuation">-</span> echo CODEBUILD_BATCH_BUILD_IDENTIFIER $CODEBUILD_BATCH_BUILD_IDENTIFIER
<span class="token punctuation">-</span> echo CODEBUILD_BUILD_ARN $CODEBUILD_BUILD_ARN
<span class="token punctuation">-</span> echo CODEBUILD_BUILD_ID $CODEBUILD_BUILD_ID
<span class="token punctuation">-</span> echo CODEBUILD_BUILD_IMAGE $CODEBUILD_BUILD_IMAGE
<span class="token punctuation">-</span> echo CODEBUILD_BUILD_NUMBER $CODEBUILD_BUILD_NUMBER
<span class="token punctuation">-</span> echo CODEBUILD_BUILD_SUCCEEDING $CODEBUILD_BUILD_SUCCEEDING
<span class="token punctuation">-</span> echo CODEBUILD_INITIATOR $CODEBUILD_INITIATOR
<span class="token punctuation">-</span> echo CODEBUILD_KMS_KEY_ID $CODEBUILD_KMS_KEY_ID
<span class="token punctuation">-</span> echo CODEBUILD_LOG_PATH $CODEBUILD_LOG_PATH
<span class="token punctuation">-</span> echo CODEBUILD_PUBLIC_BUILD_URL $CODEBUILD_PUBLIC_BUILD_URL
<span class="token punctuation">-</span> echo CODEBUILD_RESOLVED_SOURCE_VERSION $CODEBUILD_RESOLVED_SOURCE_VERSION
<span class="token punctuation">-</span> echo CODEBUILD_SOURCE_REPO_URL $CODEBUILD_SOURCE_REPO_URL
<span class="token punctuation">-</span> echo CODEBUILD_SOURCE_VERSION $CODEBUILD_SOURCE_VERSION
<span class="token punctuation">-</span> echo CODEBUILD_SRC_DIR $CODEBUILD_SRC_DIR
<span class="token punctuation">-</span> echo CODEBUILD_START_TIME $CODEBUILD_START_TIME
<span class="token punctuation">-</span> echo CODEBUILD_WEBHOOK_ACTOR_ACCOUNT_ID $CODEBUILD_WEBHOOK_ACTOR_ACCOUNT_ID
<span class="token punctuation">-</span> echo CODEBUILD_WEBHOOK_BASE_REF $CODEBUILD_WEBHOOK_BASE_REF
<span class="token punctuation">-</span> echo CODEBUILD_WEBHOOK_EVENT $CODEBUILD_WEBHOOK_EVENT
<span class="token punctuation">-</span> echo CODEBUILD_WEBHOOK_MERGE_COMMIT $CODEBUILD_WEBHOOK_MERGE_COMMIT
<span class="token punctuation">-</span> echo CODEBUILD_WEBHOOK_PREV_COMMIT $CODEBUILD_WEBHOOK_PREV_COMMIT
<span class="token punctuation">-</span> echo CODEBUILD_WEBHOOK_HEAD_REF $CODEBUILD_WEBHOOK_HEAD_REF
<span class="token punctuation">-</span> echo CODEBUILD_WEBHOOK_TRIGGER $CODEBUILD_WEBHOOK_TRIGGER
<span class="token punctuation">-</span> echo CODEBUILD_RUNNER_OWNER $CODEBUILD_RUNNER_OWNER
<span class="token punctuation">-</span> echo CODEBUILD_RUNNER_REPO $CODEBUILD_RUNNER_REPO
<span class="token punctuation">-</span> echo CODEBUILD_RUNNER_REPO_DOMAIN $CODEBUILD_RUNNER_REPO_DOMAIN
<span class="token punctuation">-</span> echo CODEBUILD_WEBHOOK_LABEL $CODEBUILD_WEBHOOK_LABEL
<span class="token punctuation">-</span> echo CODEBUILD_WEBHOOK_RUN_ID $CODEBUILD_WEBHOOK_RUN_ID
<span class="token punctuation">-</span> echo CODEBUILD_WEBHOOK_JOB_ID $CODEBUILD_WEBHOOK_JOB_ID
<span class="token punctuation">-</span> echo CODEBUILD_WEBHOOK_WORKFLOW_NAME $CODEBUILD_WEBHOOK_WORKFLOW_NAME
<span class="token punctuation">-</span> echo CODEBUILD_RUNNER_WITH_BUILDSPEC $CODEBUILD_RUNNER_WITH_BUILDSPEC</code></pre></div>
<p>You can pass your own variables into your buildspec, you’ll notice that . If you make your own, they cannot begin with <code class="language-text">CODEBUILD_</code> or <code class="language-text">AWS_</code> as they are reserved. The environment variables are not specified in the CodeBuild popup when using CodePipeline (they would be if you were only using CodeBuild), they are specified in the parent window. Do those later!</p>
<h4>Pre-Build log-in to AWS ECR</h4>
<p>The default CodeBuild container will have AWS toolkit installed on it but it does not automatically have acccess to the ECR, so you need to login. The container runs under the service role you created in the previous step and that will need to have access to the ECR (it did by default when I set it up). It uses that service role to log into the ECR. Strange, I know, but it’s how this works.</p>
<h4>Adding Source Variable Environment Variables</h4>
<p>We have seen how the <code class="language-text">buildspec</code> file needs <code class="language-text">$TagName</code> environment variable. This is the git tag that triggered this whole process in the first place. To set the tagname correctly, you must create an environment variable in the CodePipeline build window, using <code class="language-text">TagName</code> for the name (ignore the $) and then for the value use:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">#{SourceVariables.TagName}</code></pre></div>
<p>The <code class="language-text">#{}</code> tells AWS that it needs to do a replacement. <code class="language-text">SourceVariables</code> is the name of the “Variable Namespace” given to the variables from the Source. <a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/reference-variables.html">Source Variables reference here</a>. You can’t see them while you’re building the pipeline but once the source part of the pipeline has run, they will appear. The reference doesn’t include all the variables I am getting from the GitHub App source. Here’s a list of what I see:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">- AuthorDate          2024-11-11T14:48:38Z
- AuthorDisplayName   Rob Lang
- AuthorEmail         brainwiped@gmail.com
- AuthorId            Rob Lang
- BranchName          feature/blog
- CommitId            91d21ea05d4bef9c7c80d90f96cb0cacf9c9c90d
- CommitMessage       Blogging for the CodePipeline build
- ConnectionArn       arn:aws:codeconnections:eu-north-1:123123123123:connection/7b65fd00-061e-43c7-8d42-e55dd18843a3
- FullRepositoryName  brainwipe/blog
- ProviderType        GitHub
- TagName             release-20241111</code></pre></div>
<p>So I could include any of these Source Variables in my buildspec by adding an environment variable such as <code class="language-text">#{SourceVariables.TagName}</code> or <code class="language-text">#{SourceVariables.CommitId}</code>. This could be useful if you want to tag your ECR image with both the tag and the commit id.</p>
<h2>Final Thoughts</h2>
<p>If you build the CodeBuild project through CodePipeline then you can’t run that project inside CodeBuild alone. That is because it won’t have the source information or the environment variables as they are held in the CodePipeline. While that feels odd, I did not actually need to use the CodeBuild build button once I had the pipeline up and running.</p>
<p>I appreciate that this is an information dump, I hope it is useful on your journey and that by the time you’re reading this, AWS has adjusted its UI and build process so that it’s easier to manage.</p></section><hr/><footer><div class="bio"><div data-gatsby-image-wrapper="" style="width:50px;height:50px" class="gatsby-image-wrapper bio-avatar"><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#080808;width:50px;height:50px;position:relative"></div><picture><source type="image/avif" data-srcset="/static/5403412362dd02085cbf7a61977d4676/d4bf4/profile-pic.avif 50w,/static/5403412362dd02085cbf7a61977d4676/ee81f/profile-pic.avif 100w" sizes="50px"/><source type="image/webp" data-srcset="/static/5403412362dd02085cbf7a61977d4676/3faea/profile-pic.webp 50w,/static/5403412362dd02085cbf7a61977d4676/6a679/profile-pic.webp 100w" sizes="50px"/><img data-gatsby-image-ssr="" layout="fixed" data-main-image="" style="opacity:0" sizes="50px" decoding="async" loading="lazy" data-src="/static/5403412362dd02085cbf7a61977d4676/d24ee/profile-pic.jpg" data-srcset="/static/5403412362dd02085cbf7a61977d4676/d24ee/profile-pic.jpg 50w,/static/5403412362dd02085cbf7a61977d4676/64618/profile-pic.jpg 100w" alt="Rob Lang&#x27;s profile picture"/></picture><noscript><picture><source type="image/avif" srcSet="/static/5403412362dd02085cbf7a61977d4676/d4bf4/profile-pic.avif 50w,/static/5403412362dd02085cbf7a61977d4676/ee81f/profile-pic.avif 100w" sizes="50px"/><source type="image/webp" srcSet="/static/5403412362dd02085cbf7a61977d4676/3faea/profile-pic.webp 50w,/static/5403412362dd02085cbf7a61977d4676/6a679/profile-pic.webp 100w" sizes="50px"/><img data-gatsby-image-ssr="" layout="fixed" data-main-image="" style="opacity:0" sizes="50px" decoding="async" loading="lazy" src="/static/5403412362dd02085cbf7a61977d4676/d24ee/profile-pic.jpg" srcSet="/static/5403412362dd02085cbf7a61977d4676/d24ee/profile-pic.jpg 50w,/static/5403412362dd02085cbf7a61977d4676/64618/profile-pic.jpg 100w" alt="Rob Lang&#x27;s profile picture"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><p>Written by <strong>Dr Rob Lang</strong> <!-- -->, PhD AI, lead web developer, hobby game developer.<!-- --> <a href="https://twitter.com/brainwipe">Twitter</a>, <a href="https://youtube.com/roblang">YouTube</a>, <a href="https://github.com/brainwipe">GitHub</a></p></div></footer></article><nav class="blog-post-nav"><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/2022-11-23-postgresql-turn-on-stats/">← <!-- -->Find out what SQL queries are slow on PostgreSQL locally</a></li><li></li></ul></nav></main><footer>© <!-- -->2024<!-- -->, Built with<!-- --> <a href="https://www.gatsbyjs.com">Gatsby</a></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/2022-11-24-build-aspnet-codebuild/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-74721832467cc4b352ef.js\"],\"component---src-pages-404-js\":[\"/component---src-pages-404-js-94285fea6442db9a289d.js\"],\"component---src-pages-index-js\":[\"/component---src-pages-index-js-69ffa5174bcc9ee3693e.js\"],\"component---src-pages-using-typescript-tsx\":[\"/component---src-pages-using-typescript-tsx-0e2a87dfd28a371d75d8.js\"],\"component---src-templates-blog-post-js\":[\"/component---src-templates-blog-post-js-074fd55c7e9ac421df51.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="56d3075ec1c8d35e7ff5";</script><script src="/webpack-runtime-1f937304fc242d5cb714.js" async></script><script src="/framework-5585feef2812a02482ac.js" async></script><script src="/app-74721832467cc4b352ef.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>